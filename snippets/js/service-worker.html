<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Service Worker</title><meta name="description" content="My personal snippets directory"><meta name="robots" content="noindex,nofollow"><link rel="stylesheet" href="/assets/css/index.css"><link rel="stylesheet" href="/pagefind/pagefind-ui.css"></head><body><header><a href="/" class="home-link">Snippets</a><nav><ul class="nav"><li class="nav-item"><a href="/">Search</a></li><li class="nav-item"><a href="/tags/js/">JS</a></li><li class="nav-item"><a href="/tags/css/">CSS</a></li><li class="nav-item"><a href="/tags/scss/">SCSS</a></li><li class="nav-item"><a href="/tags/php/">PHP</a></li><li class="nav-item"><a href="/tags/htaccess/">Htaccess</a></li><li class="nav-item"><a href="/tags/misc/">Misc.</a></li></ul></nav></header><main id="skip"><h1 data-pagefind-body="">Service Worker</h1><p class="post-author">By: <a href="https://github.com/Bastiaantjuhh">Bastiaan de Hart</a></p><ul class="post-metadata"><li><a class="tag tag-js" href="/tags/js/">#js</a></li></ul><pre><code>if (&quot;serviceWorker&quot; in navigator) {

    window.addEventListener(&quot;load&quot;, function() {

        navigator.serviceWorker.register(&quot;/assets/js/sw.js&quot;).then(function(registration) {
            console.log(&quot;ServiceWorker registratie succesvol: &quot;, registration.scope);
        }, function(error) {
            console.log(&quot;ServiceWorker registratie gefaald: &quot;, error);
        });
    });
}


&quot;use strict&quot;; // Strikte syntax volgens protocol

// Constante met een Array van alle files die ik wil cachen.
const urlsToCache = [
	&quot;/&quot;,
	&quot;/index.html&quot;,
	&quot;/assets/css/main.min.css&quot;,
	&quot;/assets/js/main.js&quot;,
	&quot;/assets/js/sw.js&quot;,
	&quot;/manifest.json&quot;,
	&quot;/favicon.ico&quot;,
	&quot;/assets/icons/icon_48x48.png&quot;,
	&quot;/assets/icons/icon_128x128.png&quot;,
	&quot;/assets/icons/icon_192x192.png&quot;,
	&quot;/assets/icons/icon_512x512.png&quot;
];

// Installeren Service Worker.
self.addEventListener(&quot;install&quot;, (event) =&gt; {
	event.waitUntil(
		caches.open(&quot;todo-cache&quot;) // Naam van cache
			.then((cache) =&gt; cache.addAll(urlsToCache))
	);
});

// Fetchen van events.
self.addEventListener(&quot;fetch&quot;, (event) =&gt; {
	event.respondWith(
		caches.match(event.request)
			.then((response) =&gt; response || fetch(event.request))
	);
});
</code></pre></main><footer><p id="copyright-notice">Copyright &copy; <span id="copyright-year"></span> Bastiaan de Hart. All rights reserved. Licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" target="_blank">CC BY-NC-ND 4.0</a></p></footer><script>document.getElementById("copyright-year").innerHTML = new Date().getFullYear();</script><script src="/assets/js/highlight.min.js"></script><script>hljs.highlightAll();</script><script src="/pagefind/pagefind-ui.js" onload="new PagefindUI({ element: '#search', showImages: false });"></script></body></html>